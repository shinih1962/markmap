import{S as G,i as L,s as Y,k as V,l as k,m as P,h as M,n as x,b as Z,B as Q,o as H,X as C,Y as p,F as X}from"./index-1f49ef0e.js";/*! @gera2ld/jsx-dom v2.1.1 | ISC License */var b=1,I=2,u=1,N=4,j="http://www.w3.org/2000/svg",B="http://www.w3.org/1999/xlink",D={show:B,actuate:B,href:B},K=function(t){return typeof t=="string"||typeof t=="number"},W=function(t){return(t==null?void 0:t.vtype)===b},q=function(t){return(t==null?void 0:t.vtype)===I};function d(e,t){var n;if(typeof e=="string")n=b;else if(typeof e=="function")n=I;else throw new Error("Invalid VNode type");return{vtype:n,type:e,props:t}}var S=d;function J(e){return e.children}var _={isSvg:!1};function z(e,t){if(t.type===u)t.node!=null&&e.append(t.node);else if(t.type===N)t.children.forEach(function(n){z(e,n)});else throw new Error("Unkown ref type "+JSON.stringify(t))}function $(e,t,n){for(var r in t)r==="key"||r==="children"||r==="ref"||(r==="dangerouslySetInnerHTML"?e.innerHTML=t[r].__html:r==="innerHTML"||r==="textContent"||r==="innerText"?e[r]=t[r]:r.startsWith("on")?e[r.toLowerCase()]=t[r]:et(e,r,t[r],n.isSvg))}var tt={className:"class",labelFor:"for"};function et(e,t,n,r){if(t=tt[t]||t,n===!0)e.setAttribute(t,"");else if(n===!1)e.removeAttribute(t);else{var i=r?D[t]:void 0;i!==void 0?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}}function m(e,t){if(t===void 0&&(t=_),e==null||typeof e=="boolean")return{type:u,node:null};if(e instanceof Node)return{type:u,node:e};if(q(e)){var n=e,r=n.type,i=n.props;if(r===J){var l=document.createDocumentFragment();if(i.children){var s=m(i.children,t);z(l,s)}return{type:u,node:l}}var a=r(i);return m(a,t)}if(K(e))return{type:u,node:document.createTextNode(""+e)};if(W(e)){var o,c=e,A=c.type,f=c.props;!t.isSvg&&A==="svg"&&(t=Object.assign({},t,{isSvg:!0})),t.isSvg?o=document.createElementNS(j,A):o=document.createElement(A),$(o,f,t);var v;if(f.children){var g=t;t.isSvg&&A==="foreignObject"&&(g=Object.assign({},g,{isSvg:!1})),v=m(f.children,g)}v!=null&&z(o,v);var y=f.ref;return typeof y=="function"&&y(o),{type:u,node:o}}if(Array.isArray(e))return{type:N,children:e.map(function(F){return m(F,t)})};throw new Error("mount: Invalid Vnode!")}function O(e){for(var t=[],n=0;n<e.length;n+=1){var r=e[n];Array.isArray(r)?t=t.concat(O(r)):r!=null&&t.push(r)}return t}function E(e){return e.type===u?e.node:e.children.map(E)}function T(e){return Array.isArray(e)?O(e.map(T)):E(m(e))}/*! markmap-toolbar v0.14.4 | MIT License */function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}/*! markmap-common v0.14.2 | MIT License */Math.random().toString(36).slice(2,8);function rt(e,t,n="children"){const r=(i,l)=>t(i,()=>{var s;(s=i[n])==null||s.forEach(a=>{r(a,i)})},l);r(e)}const U="mm-toolbar-item",nt="active";function it(){return S("a",{className:"mm-toolbar-brand",href:"https://markmap.js.org/",children:[d("img",{alt:"markmap",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAACoFBMVEUAAAAAAAD//wAAAACAgAD//wAAAABVVQCqqgBAQACAQACAgABmZgBtbQAAAABgQABgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaFQAAAAAAAAAAAAAAAAAHAAARBQIdGAIYEwI/OgJYUQUfHQI+OgJDPgJJRARBPQRJQgRRSwRRTQRIQQRUTgRUUARZUgRSTQRPSQRjWgZORQRfWQZsZAhTTQRNRwRWUAZkXAZOSARUTgZPRwRRSQRoYwZWUQZWTgRbUwZmXQZoXghmXwdqYwdsYwdfVwVmXQdqYgdiWgVpYAl3bgl6cgl4cAqLggw8OAOWjA2Uig1OSAR2bQihlg55cAh5cAh6cQmMgwyOhAyUjA2QhQ2Uiw2Viw2soBCflA+voxGwpRGhlg+hlg+snxGroBGjmBCpnBC0pxKyphKxpRG2qhK0qBK5rBK5rBP/7h3/8B7/8R3/8h3/8R7/8h786x397B3+7R3EtxT66Rz66hz76hz86xz96xz97Bz+7Rz45xz56Bz76hz97Bz97B3MvRX15Rv25Rv45xz66Rz76hz97B3+7R3IuxX05Bv15Bv25Rz56Bz66Ry/sxPAsxPCtRTCthTNvxbZyxfczxfi0xjl1Rnn2Bnr2xrr3Brs3Rru3Rru3xrv3hrw3xrx4Bvx4Rvy4hvz4hvz4xv04xv05Bv14xv15Bv15Rv25Bv25Rv25Rz25hv35hv35xv45xv45xz55xz56Bv56Bz66Rv66Rz76Rv76Rz76hz86hv86xz+7h3/7R3/7h3/7x3/8B3/8B7/8R3/8R4Yqhj5AAAAq3RSTlMAAQECAgIDAwMEBAQFBwgICAwQERITFRYXGBkbHB0eHyQlJyguNTg8RUZISU5PV2FiY2RlZmdqa2xubnJzc3R2d3d3eXl5eXp7fH1+gIGCgoKDg4SEhIWGh4eHiYmJjIyMjZSUlJ+sra+zt7i4uru8ztHV1tbW2d7g4OHi4uPk5ufp7Ozv9fX29/f3+Pj6+vr7+/v7+/v7+/z8/Pz8/f39/f39/f3+/v7+/v7K6J1dAAACHklEQVQ4y2NgwAoYWdi5uLm5GXHIcrLCmMzYpDmAhKCKjoGtp40MFhVsDAwSxmmVEzZu2XvqSLkchjw3g0h445Ybd24vmTN1Usd5X3R5DgaNqgN35sycP2/GxMkTMRVwMOivvtO3YsWUm3duX790EcMKdgbNNXdnnJh1+9T6ipzU+FB0RzIyiFYB5WdfaElUF8TmTQ6GwH39J2bvypMHcpg4MAKKkUGo5s6KWRfyGRh4WJClGEGBCgS8DLobliy/3abMwM8NBYwQjXDgf3ryxOspyKYyg+RFTFwdnYDAzbrw+oLFm9Ot3J3AwNHFTBykQrhg++GDh48cOXzk4P6VZy8s230MyAGCwwcP7iyRBJpiur1n8hQIWHX27NkLi6bAwOSuow5ABeY7OydOhoCFIAULe6E8YFCf8QAqEC86evniZTA4tfLsuRXHr0E4ly9ePF0uC3KnpH1MZBQQxPoVgxyZ5RMdBQaRMc6yIEcihWbQGaA3k9G8CfQoN0pAtSoxCMACihk9qGtBQZ2LHtRIkRUMiqwd2TJADiswsrjQlAGju/o+MLrPNkWo8mFN1ewMWmvBCebQ0rKMJG87QzF0FRwMRuvugpLcrXu3rp7Zs61UCtMZ2nVHbk+fMX/+jMmTp3Sf9MLiULG45q237txaPG3yxPYrYQzYMo60RWbD3E27Ll68Uq+AK+uJqOlZBiSEKGLNnMA0iDfzwrI/NKgBOivk9piPdtUAAAAASUVORK5CYII="}),d("span",{children:"markmap"})]})}function At({title:e,content:t,onClick:n}){return d("div",{className:U,title:e,onClick:n,children:t})}let w;function st(e){return async(...t)=>{if(!w){w=e(...t);try{await w}finally{w=null}}}}class h{static create(t){const n=new h;return n.attach(t),n.render()}static icon(t,n={}){return n=R({stroke:"none",fill:"currentColor","fill-rule":"evenodd"},n),d("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:d("path",R({},n,{d:t}))})}constructor(){this.showBrand=!0,this.registry={},this.markmap=null,this.register({id:"zoomIn",title:"Zoom in",content:h.icon("M9 5v4h-4v2h4v4h2v-4h4v-2h-4v-4z"),onClick:this.getHandler(t=>t.rescale(1.25))}),this.register({id:"zoomOut",title:"Zoom out",content:h.icon("M5 9h10v2h-10z"),onClick:this.getHandler(t=>t.rescale(.8))}),this.register({id:"fit",title:"Fit window size",content:h.icon("M4 7h2v-2h2v4h-4zM4 13h2v2h2v-4h-4zM16 7h-2v-2h-2v4h4zM16 13h-2v2h-2v-4h4z"),onClick:this.getHandler(t=>t.fit())}),this.register({id:"recurse",title:"Recursively toggle the next node",content:h.icon("M16 4h-12v12h12v-8h-8v4h2v-2h4v4h-8v-8h10z"),onClick:t=>{const n=t.target.closest(`.${U}`),r=()=>n.classList.toggle(nt),i=r();this.handleRecurse(i,r)}}),this.setItems(h.defaultItems)}setBrand(t){this.showBrand=t}register(t){this.registry[t.id]=t}getHandler(t){return t=st(t),()=>{this.markmap&&t(this.markmap)}}setItems(t){this.items=[...t]}attach(t){this.markmap=t}handleRecurse(t,n){const r=this.markmap;if(!t){var i,l;(i=r.handleClick)==null||(l=i.__reset)==null||l.call(i);return}const s=r.handleClick;if(!s)return;const a=(o,c)=>{var A;const f=(A=c.data.payload)!=null&&A.fold?0:1;rt(c.data,(v,g)=>{v.payload=R({},v.payload,{fold:f}),g()}),r.renderData(c.data),n(),a.__reset()};a.__reset=()=>{r.handleClick=s},r.handleClick=a}render(){const t=this.items.map(n=>{if(typeof n=="string"){const r=this.registry[n];return r||console.warn(`[markmap-toolbar] ${n} not found`),r}return n}).filter(Boolean);return T(S("div",{className:"mm-toolbar",children:[this.showBrand&&it(),t.map(At)]}))}}h.defaultItems=["zoomIn","zoomOut","fit","recurse"];function at(e){let t,n;return{c(){t=V("div"),this.h()},l(r){t=k(r,"DIV",{class:!0}),P(t).forEach(M),this.h()},h(){x(t,"class",n=e[1].class)},m(r,i){Z(r,t,i),e[6](t)},p(r,[i]){i&2&&n!==(n=r[1].class)&&x(t,"class",n)},i:Q,o:Q,d(r){r&&M(t),e[6](null)}}}function ot(e,t,n){let r,{mm:i}=t,{showBrand:l=!1}=t,{onFullPageView:s=void 0}=t,{onREPLView:a=void 0}=t;const o=new h;o.register({id:"repl",title:"Open in REPL",content:h.icon("M4 5v10h12v-10zM6 7v6h3v-6zM14 7v6h-3v-6z"),onClick:()=>a==null?void 0:a()}),o.register({id:"full",title:"Full page view",content:h.icon("M4 9v-4h4v2h-2v2zM4 11v4h4v-2h-2v-2zM16 9v-4h-4v2h2v2zM16 11v4h-4v-2h2v-2z"),onClick:()=>s==null?void 0:s()}),H(()=>{r.append(o.render())});function c(A){X[A?"unshift":"push"](()=>{r=A,n(0,r)})}return e.$$set=A=>{n(1,t=C(C({},t),p(A))),"mm"in A&&n(2,i=A.mm),"showBrand"in A&&n(3,l=A.showBrand),"onFullPageView"in A&&n(4,s=A.onFullPageView),"onREPLView"in A&&n(5,a=A.onREPLView)},e.$$.update=()=>{e.$$.dirty&4&&o.attach(i),e.$$.dirty&8&&o.setBrand(l),e.$$.dirty&48&&o.setItems(["zoomIn","zoomOut","fit","recurse",a&&"repl",s&&"full"].filter(Boolean))},t=p(t),[r,t,i,l,s,a,c]}class ht extends G{constructor(t){super(),L(this,t,ot,at,Y,{mm:2,showBrand:3,onFullPageView:4,onREPLView:5})}}export{ht as T};
